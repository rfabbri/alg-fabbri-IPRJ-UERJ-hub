<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Benchmark Results</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.2/dist/Chart.min.js"></script>
    <style>/* Basic styles from the original file */ body { font-family: sans-serif; } .benchmark-chart { max-width: 1000px; margin: auto; } </style>
</head>
<body>
    <div class="benchmark-chart">
        <canvas id="benchmark-chart"></canvas>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('benchmark.json') // Assumes the benchmark data is in benchmark.json
                .then(response => response.json())
                .then(data => {
                    const benches = data.benchmarks;
                    const unit = benches.length > 0 ? benches[0].time_unit : '';

                    const plotData = benches.map(b => ({
                        x: Number(b.name.split('/').pop()),
                        y: b.cpu_time
                    }));

                    const chartData = {
                        datasets: [{
                            label: 'Benchmark Run',
                            data: plotData,
                            borderColor: '#3273dc',
                            fill: false,
                        }]
                    };

                    const chartOptions = {
                        scales: {
                            xAxes: [{ scaleLabel: { display: true, labelString: 'Problem Size (N)' }, type: 'logarithmic' }],
                            yAxes: [{ scaleLabel: { display: true, labelString: 'Time (' + unit + ')' }, type: 'logarithmic' }]
                        }
                    };

                    new Chart(document.getElementById('benchmark-chart'), {
                        type: 'line',
                        data: chartData,
                        options: chartOptions
                    });
                })
                .catch(error => console.error('Error loading benchmark data:', error));
        });
    </script>
</body>
</html>
